{"remainingRequest":"/Users/aloehuihui/Documents/vue-example/vue-test-manu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aloehuihui/Documents/vue-example/vue-test-manu/src/components/PieChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aloehuihui/Documents/vue-example/vue-test-manu/src/components/PieChart.vue","mtime":1608716360137},{"path":"/Users/aloehuihui/Documents/vue-example/vue-test-manu/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aloehuihui/Documents/vue-example/vue-test-manu/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/aloehuihui/Documents/vue-example/vue-test-manu/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aloehuihui/Documents/vue-example/vue-test-manu/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOebtOaOpeW8leeUqAovLyBpbXBvcnQgZWNoYXJ0cyBmcm9tICdAL2xpYi9lY2hhcnQuanMnIApleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogIH0sCiAgcHJvcHM6IHsKICAgIHBpZURhdGE6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICB9LAogICAgd2lkdGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxOAogICAgfSwKICAgIGhlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDE5CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hhcnRzOiAnJwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRhdGFXaXRoUmF0ZSgpIHsKICAgICAgY29uc3QgdG90YWwgPSB0aGlzLmdldFRvdGFsKHRoaXMucGllRGF0YSkKICAgICAgY29uc3Qgd2l0aFJhdGUgPSB0aGlzLnBpZURhdGEubWFwKGl0ID0+IHsKICAgICAgICByZXR1cm4gKHsKICAgICAgICAgIC4uLml0LAogICAgICAgICAgcmF0ZTogTWF0aC5yb3VuZCgoaXQudmFsdWUgKiAxMDAgLyB0b3RhbCkgKiAxMDApIC8gMTAwCiAgICAgICAgfSkKICAgICAgfSkKICAgICAgcmV0dXJuIHdpdGhSYXRlCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgcGllRGF0YShuLCBvKSB7CiAgICAgIHRoaXMuaW5pdGNoYXJ0cygpCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0Y2hhcnRzKCkKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7CiAgICAgIGlmICh0aGlzLmNoYXJ0cykgewogICAgICAgIHRoaXMuY2hhcnRzLnJlc2l6ZSgpCiAgICAgIH0KICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRUb3RhbChhcnIpIHsKICAgICAgY29uc3QgdG90YWwgPSBhcnIucmVkdWNlKChwcmV2LCBjdXIpID0+IHsKICAgICAgICByZXR1cm4gKCtwcmV2KSArICgrY3VyLnZhbHVlKQogICAgICB9LCAwKQogICAgICByZXR1cm4gdG90YWwKICAgIH0sCiAgICBpbml0Y2hhcnRzKCkgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5jaGFydHMgPSBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215Q2hhcnQnKSkKICAgICAgICBjb25zdCBncm91cE9wdGlvbnMgPSB7CiAgICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICAgIHRyaWdnZXI6ICdpdGVtJywKICAgICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihwYXJtcykgewogICAgICAgICAgICAgIGNvbnN0IHN0ciA9CiAgICAgICAgICAgICAgcGFybXMubWFya2VyICsKICAgICAgICAgICAgICAnJyArCiAgICAgICAgICAgICAgcGFybXMuZGF0YS5uYW1lICsKICAgICAgICAgICAgICAnPC9icj4nICsKICAgICAgICAgICAgICAn5pWw6YeP77yaJyArCiAgICAgICAgICAgICAgcGFybXMuZGF0YS52YWx1ZSArCiAgICAgICAgICAgICAgJzwvYnI+JyArCiAgICAgICAgICAgICAgJ+eOr+avlO+8micgKwogICAgICAgICAgICAgIHBhcm1zLnBlcmNlbnQgKwogICAgICAgICAgICAgICclJwogICAgICAgICAgICAgIHJldHVybiBzdHIKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGdyaWQ6IHsKICAgICAgICAgICAgbGVmdDogJzAlJywKICAgICAgICAgICAgcmlnaHQ6ICczMCUnLAogICAgICAgICAgICBib3R0b206IDAsCiAgICAgICAgICAgIGNvbnRhaW5MYWJlbDogdHJ1ZQogICAgICAgICAgfSwKICAgICAgICAgIGdyYXBoaWM6IHsKICAgICAgICAgICAgZWxlbWVudHM6IFt7CiAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlJywKICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgd2lkdGg6IDUwLAogICAgICAgICAgICAgICAgaGVpZ2h0OiA1MAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgbGVmdDogJ2NlbnRlcicsCiAgICAgICAgICAgICAgdG9wOiAnY2VudGVyJwogICAgICAgICAgICB9XQogICAgICAgICAgfSwKICAgICAgICAgIGNvbG9yOiBbJyNGRkI0ODcnLCAnI0ZGNEE0QScsICcjNkQzQkQ1J10sCiAgICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgICAgICByYWRpdXM6IFsnNTglJywgJzcwJSddLAogICAgICAgICAgICBjZW50ZXI6IFsnNTAlJywgJzUwJSddLAogICAgICAgICAgICBkYXRhOiB0aGlzLnBpZURhdGEsCiAgICAgICAgICAgIGxhYmVsTGluZTogewogICAgICAgICAgICAgIHNob3c6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgc2hvdzogZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgICAgdGhpcy5jaGFydHMuc2V0T3B0aW9uKGdyb3VwT3B0aW9ucykKICAgICAgfSkKICAgIH0KICB9Cgp9Cg=="},{"version":3,"sources":["PieChart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"PieChart.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"pie\">\n    <h5>饼图1</h5>\n    <div\n      id=\"myChart\"\n      :style=\"`width: 20vw; height: 20vh`\"\n    />\n    <div class=\"pie-legend\">\n      <span>{{dataWithRate[0].name }}: {{ dataWithRate[0].rate }}%</span>\n      <span>{{dataWithRate[1].name }}: {{ dataWithRate[1].rate }}%</span>\n      <span>{{dataWithRate[2].name }}: {{ dataWithRate[2].rate }}%</span>\n    </div>\n  </div>\n</template>\n<script>\n// 直接引用\n// import echarts from '@/lib/echart.js' \nexport default {\n  components: {\n  },\n  props: {\n    pieData: {\n      type: Array,\n      default: () => []\n    },\n    width: {\n      type: Number,\n      default: 18\n    },\n    height: {\n      type: Number,\n      default: 19\n    }\n  },\n  data() {\n    return {\n      charts: ''\n    }\n  },\n  computed: {\n    dataWithRate() {\n      const total = this.getTotal(this.pieData)\n      const withRate = this.pieData.map(it => {\n        return ({\n          ...it,\n          rate: Math.round((it.value * 100 / total) * 100) / 100\n        })\n      })\n      return withRate\n    }\n  },\n  watch: {\n    pieData(n, o) {\n      this.initcharts()\n    }\n  },\n  mounted() {\n    this.initcharts()\n    window.addEventListener('resize', () => {\n      if (this.charts) {\n        this.charts.resize()\n      }\n    })\n  },\n  methods: {\n    getTotal(arr) {\n      const total = arr.reduce((prev, cur) => {\n        return (+prev) + (+cur.value)\n      }, 0)\n      return total\n    },\n    initcharts() {\n      this.$nextTick(() => {\n        this.charts = echarts.init(document.getElementById('myChart'))\n        const groupOptions = {\n          tooltip: {\n            trigger: 'item',\n            formatter: function(parms) {\n              const str =\n              parms.marker +\n              '' +\n              parms.data.name +\n              '</br>' +\n              '数量：' +\n              parms.data.value +\n              '</br>' +\n              '环比：' +\n              parms.percent +\n              '%'\n              return str\n            }\n          },\n          grid: {\n            left: '0%',\n            right: '30%',\n            bottom: 0,\n            containLabel: true\n          },\n          graphic: {\n            elements: [{\n              type: 'image',\n              style: {\n                width: 50,\n                height: 50\n              },\n              left: 'center',\n              top: 'center'\n            }]\n          },\n          color: ['#FFB487', '#FF4A4A', '#6D3BD5'],\n          series: [{\n            type: 'pie',\n            radius: ['58%', '70%'],\n            center: ['50%', '50%'],\n            data: this.pieData,\n            labelLine: {\n              show: false\n            },\n            label: {\n              show: false\n            }\n          }]\n        }\n        this.charts.setOption(groupOptions)\n      })\n    }\n  }\n\n}\n</script>\n\n<style scoped>\n  .pie {\n    width: 300px;\n    height: 100%;\n    position: relative;\n    left: 100px;\n    top: 20px;\n    flex: 1;\n    margin-left: 10px;\n  }\n  .pie-legend {\n      position: absolute;\n      left: 50%;\n      top: 15%;\n      display: flex;\n      flex-direction: column;\n    }\n  .pie-legend span {\n    display: inline-block;\n    padding: 3px 5px;\n    background: #FFB487;\n    margin-bottom: 10px;\n  }\n</style>\n"]}]}