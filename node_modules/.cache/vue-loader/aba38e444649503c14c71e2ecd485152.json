{"remainingRequest":"/Users/aloehuihui/Documents/vue-example/vue-test-manu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aloehuihui/Documents/vue-example/vue-test-manu/src/components/VueChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aloehuihui/Documents/vue-example/vue-test-manu/src/components/VueChart.vue","mtime":1608714990793},{"path":"/Users/aloehuihui/Documents/vue-example/vue-test-manu/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aloehuihui/Documents/vue-example/vue-test-manu/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/aloehuihui/Documents/vue-example/vue-test-manu/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aloehuihui/Documents/vue-example/vue-test-manu/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIOebtOaOpeW8leeUqAovLyBpbXBvcnQgZWNoYXJ0cyBmcm9tICdAL2xpYi9lY2hhcnRzLmpzJyAKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICB9LAogIHByb3BzOiB7CiAgICBwaWVEYXRhOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXQogICAgfSwKICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMTgKICAgIH0sCiAgICBoZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxOQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoYXJ0czogJycsCiAgICAgIGNoYXJ0T3B0aW9uczoge30KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkYXRhV2l0aFJhdGUoKSB7CiAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy5nZXRUb3RhbCh0aGlzLnBpZURhdGEpCiAgICAgIGNvbnN0IHdpdGhSYXRlID0gdGhpcy5waWVEYXRhLm1hcChpdCA9PiB7CiAgICAgICAgcmV0dXJuICh7CiAgICAgICAgICAuLi5pdCwKICAgICAgICAgIHJhdGU6IE1hdGgucm91bmQoKGl0LnZhbHVlICogMTAwIC8gdG90YWwpICogMTAwKSAvIDEwMAogICAgICAgIH0pCiAgICAgIH0pCiAgICAgIHJldHVybiB3aXRoUmF0ZQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHBpZURhdGEobiwgbykgewogICAgICB0aGlzLmluaXRjaGFydHMoKQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0T3B0aW9ucygpCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRUb3RhbChhcnIpIHsKICAgICAgY29uc3QgdG90YWwgPSBhcnIucmVkdWNlKChwcmV2LCBjdXIpID0+IHsKICAgICAgICByZXR1cm4gKCtwcmV2KSArICgrY3VyLnZhbHVlKQogICAgICB9LCAwKQogICAgICByZXR1cm4gdG90YWwKICAgIH0sCiAgICBnZXRPcHRpb25zKCkgewogICAgICB0aGlzLmNoYXJ0T3B0aW9ucyA9IHsKICAgICAgICAgIG5hbWU6ICfppa7mlpknLAogICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScsCiAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24ocGFybXMpIHsKICAgICAgICAgICAgICBjb25zdCBzdHIgPQogICAgICAgICAgICAgIHBhcm1zLm1hcmtlciArCiAgICAgICAgICAgICAgJycgKwogICAgICAgICAgICAgIHBhcm1zLmRhdGEubmFtZSArCiAgICAgICAgICAgICAgJzwvYnI+JyArCiAgICAgICAgICAgICAgJ+aVsOmHj++8micgKwogICAgICAgICAgICAgIHBhcm1zLmRhdGEudmFsdWUgKwogICAgICAgICAgICAgICc8L2JyPicgKwogICAgICAgICAgICAgICfnjq/mr5TvvJonICsKICAgICAgICAgICAgICBwYXJtcy5wZXJjZW50ICsKICAgICAgICAgICAgICAnJScKICAgICAgICAgICAgICByZXR1cm4gc3RyCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBncmlkOiB7CiAgICAgICAgICAgIGxlZnQ6ICcwJScsCiAgICAgICAgICAgIHJpZ2h0OiAnMzAlJywKICAgICAgICAgICAgYm90dG9tOiAwLAogICAgICAgICAgICBjb250YWluTGFiZWw6IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICBncmFwaGljOiB7CiAgICAgICAgICAgIGVsZW1lbnRzOiBbewogICAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsCiAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgIHdpZHRoOiA1MCwKICAgICAgICAgICAgICAgIGhlaWdodDogNTAKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGxlZnQ6ICdjZW50ZXInLAogICAgICAgICAgICAgIHRvcDogJ2NlbnRlcicKICAgICAgICAgICAgfV0KICAgICAgICAgIH0sCiAgICAgICAgICBjb2xvcjogWycjRkZCNDg3JywgJyNGRjRBNEEnLCAnIzZEM0JENSddLAogICAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgICB0eXBlOiAncGllJywKICAgICAgICAgICAgcmFkaXVzOiBbJzU4JScsICc3MCUnXSwKICAgICAgICAgICAgY2VudGVyOiBbJzUwJScsICc1MCUnXSwKICAgICAgICAgICAgZGF0YTogdGhpcy5waWVEYXRhLAogICAgICAgICAgICBsYWJlbExpbmU6IHsKICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICAgIHNob3c6IGZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICAgIH1dCiAgICAgICAgfQogICAgfQogIH0KCn0K"},{"version":3,"sources":["VueChart.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"VueChart.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"pie\">\n     <h5>饼图2</h5>\n    <v-chart chartId=\"myChart\" :options=\"chartOptions\" width=\"300px\" height=\"300px\" :auto-resize=\"true\"></v-chart>\n    <div class=\"pie-legend\">\n      <span>{{dataWithRate[0].name }}: {{ dataWithRate[0].rate }}%</span>\n      <span>{{dataWithRate[1].name }}: {{ dataWithRate[1].rate }}%</span>\n      <span>{{dataWithRate[2].name }}: {{ dataWithRate[2].rate }}%</span>\n    </div>\n  </div>\n</template>\n<script>\n// 直接引用\n// import echarts from '@/lib/echarts.js' \nexport default {\n  components: {\n  },\n  props: {\n    pieData: {\n      type: Array,\n      default: () => []\n    },\n    width: {\n      type: Number,\n      default: 18\n    },\n    height: {\n      type: Number,\n      default: 19\n    }\n  },\n  data() {\n    return {\n      charts: '',\n      chartOptions: {}\n    }\n  },\n  computed: {\n    dataWithRate() {\n      const total = this.getTotal(this.pieData)\n      const withRate = this.pieData.map(it => {\n        return ({\n          ...it,\n          rate: Math.round((it.value * 100 / total) * 100) / 100\n        })\n      })\n      return withRate\n    }\n  },\n  watch: {\n    pieData(n, o) {\n      this.initcharts()\n    }\n  },\n  mounted() {\n    this.getOptions()\n  },\n  methods: {\n    getTotal(arr) {\n      const total = arr.reduce((prev, cur) => {\n        return (+prev) + (+cur.value)\n      }, 0)\n      return total\n    },\n    getOptions() {\n      this.chartOptions = {\n          name: '饮料',\n          tooltip: {\n            trigger: 'item',\n            formatter: function(parms) {\n              const str =\n              parms.marker +\n              '' +\n              parms.data.name +\n              '</br>' +\n              '数量：' +\n              parms.data.value +\n              '</br>' +\n              '环比：' +\n              parms.percent +\n              '%'\n              return str\n            }\n          },\n          grid: {\n            left: '0%',\n            right: '30%',\n            bottom: 0,\n            containLabel: true\n          },\n          graphic: {\n            elements: [{\n              type: 'image',\n              style: {\n                width: 50,\n                height: 50\n              },\n              left: 'center',\n              top: 'center'\n            }]\n          },\n          color: ['#FFB487', '#FF4A4A', '#6D3BD5'],\n          series: [{\n            type: 'pie',\n            radius: ['58%', '70%'],\n            center: ['50%', '50%'],\n            data: this.pieData,\n            labelLine: {\n              show: false\n            },\n            label: {\n              show: false\n            }\n          }]\n        }\n    }\n  }\n\n}\n</script>\n\n<style scoped>\n  .pie {\n    width: 600px;\n    height: 100%;\n    position: relative;\n    left: 0px;\n    top: 20px;\n    flex: 1;\n    margin-left: 10px;\n  }\n  .pie-legend {\n      position: absolute;\n      right: 0;\n      top: 20%;\n      display: flex;\n      flex-direction: column;\n    }\n  .pie-legend span {\n    display: inline-block;\n    padding: 3px 5px;\n    background: #FFB487;\n    margin-bottom: 10px;\n  }\n</style>\n"]}]}